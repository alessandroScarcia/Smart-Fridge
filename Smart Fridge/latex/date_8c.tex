\hypertarget{date_8c}{}\section{Riferimenti per il file src/date.c}
\label{date_8c}\index{src/date.\+c@{src/date.\+c}}
{\ttfamily \#include \char`\"{}date.\+h\char`\"{}}\newline
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{date_8c_acd1b226c15f0f582cc5e5011c380acf1}{controlla\+\_\+data} (\hyperlink{structdata}{data} d)
\begin{DoxyCompactList}\small\item\em Implementazione delle funzioni della libreria \hyperlink{date_8h}{date.\+h}. \end{DoxyCompactList}\item 
double \hyperlink{date_8c_a9fb50a281390d039697ee8903edbe4d0}{giorno\+\_\+giuliano} (\hyperlink{structdata}{data} d1)
\item 
\hyperlink{structdata}{data} \hyperlink{date_8c_af93cf7bf0773e10ac8fd26d8620e9f85}{data\+\_\+gregoriana} (double data\+\_\+giuliana)
\item 
int \hyperlink{date_8c_a6e04e729b850a65683d3df16ea167858}{diff\+\_\+date} (int $\ast$differenza, \hyperlink{structdata}{data} d1, \hyperlink{structdata}{data} d2)
\item 
int \hyperlink{date_8c_a3c80db910b9f748e16c16e2c8bfa53f3}{confronta\+\_\+date} (\hyperlink{structdata}{data} d1, \hyperlink{structdata}{data} d2)
\item 
int \hyperlink{date_8c_afbef0466d48888c4cd6d47de5b5c5baf}{genera\+\_\+data} (\hyperlink{structdata}{data} $\ast$data\+\_\+generata, \hyperlink{structdata}{data} d1, \hyperlink{structdata}{data} d2)
\item 
\hyperlink{structdata}{data} \hyperlink{date_8c_a21e03980ab79861ed672cf571293b41f}{data\+\_\+odierna} ()
\item 
int \hyperlink{date_8c_a2218060883057187054ac7065ab45330}{giorno\+\_\+odierno} ()
\item 
\hyperlink{structdata}{data} \hyperlink{date_8c_a1687d0b372d4e9f523d480a48c772014}{shift\+\_\+data\+\_\+odierna} (short valore\+\_\+shift)
\item 
\hyperlink{structdata}{data} \hyperlink{date_8c_ae4de4b55842d1d5289b7ec4a103b74f2}{input\+\_\+data} ()
\end{DoxyCompactItemize}


\subsection{Documentazione delle funzioni}
\mbox{\Hypertarget{date_8c_a3c80db910b9f748e16c16e2c8bfa53f3}\label{date_8c_a3c80db910b9f748e16c16e2c8bfa53f3}} 
\index{date.\+c@{date.\+c}!confronta\+\_\+date@{confronta\+\_\+date}}
\index{confronta\+\_\+date@{confronta\+\_\+date}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{confronta\+\_\+date()}{confronta\_date()}}
{\footnotesize\ttfamily int confronta\+\_\+date (\begin{DoxyParamCaption}\item[{\hyperlink{structdata}{data}}]{d1,  }\item[{\hyperlink{structdata}{data}}]{d2 }\end{DoxyParamCaption})}

Funzione \hyperlink{date_8c_a3c80db910b9f748e16c16e2c8bfa53f3}{confronta\+\_\+date(data d1, data d2)}\+:

La funzione determina l\textquotesingle{}ugualianza o la disugualianza fra le due date ricevute, analizzandone la differenza.

Il valore che assume la differenza può essere di tre tipi\+:
\begin{DoxyItemize}
\item Uguale a zero -\/$>$ Le date sono uguali
\item Maggiore di zero -\/$>$ La seconda data antecede la prima
\item Minore di zero -\/$>$ La prima data antecede la seconda.
\end{DoxyItemize}

Dopo aver verificato il significato delle date, se sono valide viene calcolata la differenza e si determina in quale tipo precedentemente elencato rientra e viene ritornato il corrispondente valore.

Se una delle date o entrambe non sono significative, viene ritornato D\+A\+T\+A\+\_\+\+N\+O\+N\+\_\+\+V\+A\+L\+I\+DA.

\begin{DoxyPrecond}{Precondizione}
Le date utilizzate per richiamare la funzione devono essere significative. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondizione}
Il valore di ritorno della funzione deve essere controllato per determinarne l\textquotesingle{}esito. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_acd1b226c15f0f582cc5e5011c380acf1}\label{date_8c_acd1b226c15f0f582cc5e5011c380acf1}} 
\index{date.\+c@{date.\+c}!controlla\+\_\+data@{controlla\+\_\+data}}
\index{controlla\+\_\+data@{controlla\+\_\+data}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{controlla\+\_\+data()}{controlla\_data()}}
{\footnotesize\ttfamily int controlla\+\_\+data (\begin{DoxyParamCaption}\item[{\hyperlink{structdata}{data}}]{d }\end{DoxyParamCaption})}



Implementazione delle funzioni della libreria \hyperlink{date_8h}{date.\+h}. 

Funzione \hyperlink{date_8c_acd1b226c15f0f582cc5e5011c380acf1}{controlla\+\_\+data(data d)}\+:

La funzione ha il compito di verificare se la data d è significativa.

A tal scopo esegue determinati controlli sui valori che la compongono. In primo luogo viene verificato se l\textquotesingle{}anno è bisestile oppure no, l\textquotesingle{}esito è memorizzato in un apposito flag.

Successivamente viene verificato che il mese abbia un valore entro l\textquotesingle{}intervallo \mbox{[}1, 12\mbox{]}, dato che altri valori non sarebbero significativi.

L\textquotesingle{}ultima verifica avviene sul valore del giorno. Viene accertato che sia nei limiti dell\textquotesingle{}intervallo corretto, in base al valore del mese e dell\textquotesingle{}anno.

\begin{DoxyPrecond}{Precondizione}
Non vi sono specifiche pre-\/condizioni per la funzione 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondizione}
Il valore restituito deve essere controllato per verificare l\textquotesingle{}esito del controllo sulla data. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_af93cf7bf0773e10ac8fd26d8620e9f85}\label{date_8c_af93cf7bf0773e10ac8fd26d8620e9f85}} 
\index{date.\+c@{date.\+c}!data\+\_\+gregoriana@{data\+\_\+gregoriana}}
\index{data\+\_\+gregoriana@{data\+\_\+gregoriana}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{data\+\_\+gregoriana()}{data\_gregoriana()}}
{\footnotesize\ttfamily \hyperlink{structdata}{data} data\+\_\+gregoriana (\begin{DoxyParamCaption}\item[{double}]{data\+\_\+giuliana }\end{DoxyParamCaption})}

Funzione data\+\_\+gregoriana\+: La funzione riceve in ingresso una data nel formato di giorno giuliano, su di essa applica un algoritmo e restituisce il valore ad essa corrispondente in formato di tipo data.

L\textquotesingle{}algoritmo applicato è stato preso dal seguente link Wikipedia\+: \href{https://it.wikipedia.org/wiki/Giorno_giuliano#Conversione_da_data_giuliana_a_data_normale}{\tt https\+://it.\+wikipedia.\+org/wiki/\+Giorno\+\_\+giuliano\#\+Conversione\+\_\+da\+\_\+data\+\_\+giuliana\+\_\+a\+\_\+data\+\_\+normale}

\begin{DoxyPrecond}{Precondizione}
La data passata alla funzione deve avere un valore significativo. 
\end{DoxyPrecond}
\mbox{\Hypertarget{date_8c_a21e03980ab79861ed672cf571293b41f}\label{date_8c_a21e03980ab79861ed672cf571293b41f}} 
\index{date.\+c@{date.\+c}!data\+\_\+odierna@{data\+\_\+odierna}}
\index{data\+\_\+odierna@{data\+\_\+odierna}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{data\+\_\+odierna()}{data\_odierna()}}
{\footnotesize\ttfamily \hyperlink{structdata}{data} data\+\_\+odierna (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Funzione \hyperlink{date_8c_a21e03980ab79861ed672cf571293b41f}{data\+\_\+odierna()}\+:

La funzione permette di determinare la data odierna utilizzando le funzioni della libreria $<$time.\+h$>$. Estrapola la data almomento dell\textquotesingle{}esecuzione attraverso la funzione time(), ottenendo un valore di tipo time\+\_\+t. Questo valore viene poi convertito, con la funzione localtime(), nella struct tm., in cui i campi tm\+\_\+mday, tm\+\_\+mon e tm\+\_\+year contengono rispettivamente il giorno, il mese e l\textquotesingle{}anno della data odierna.

\begin{DoxyPostcond}{Postcondizione}
Il valore restituito dalla funzione deve essere memorizzato in una variabile di tipo data. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_a6e04e729b850a65683d3df16ea167858}\label{date_8c_a6e04e729b850a65683d3df16ea167858}} 
\index{date.\+c@{date.\+c}!diff\+\_\+date@{diff\+\_\+date}}
\index{diff\+\_\+date@{diff\+\_\+date}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{diff\+\_\+date()}{diff\_date()}}
{\footnotesize\ttfamily int diff\+\_\+date (\begin{DoxyParamCaption}\item[{int $\ast$}]{differenza,  }\item[{\hyperlink{structdata}{data}}]{d1,  }\item[{\hyperlink{structdata}{data}}]{d2 }\end{DoxyParamCaption})}

Funzione diff\+\_\+date(data d1, data d2)\+:

La funzione memorizza nella variabile puntata dal puntatore differenza, la differenza in giorni fra le due date ricevute. La differenza è calcolata utilizzando il corrispettivo valore giuliano delle due date.

Se le date non sono valide, la funzione restituisce 0. Altrimenti restituisce 1 se il calcolo della differenza avviene correttamente.

\begin{DoxyPrecond}{Precondizione}
Le due date devono essere significative per un calcolo corretto della differenza. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondizione}
Deve essere controllato il valore di ritornodella funzione per determinarne l\textquotesingle{}esito. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_afbef0466d48888c4cd6d47de5b5c5baf}\label{date_8c_afbef0466d48888c4cd6d47de5b5c5baf}} 
\index{date.\+c@{date.\+c}!genera\+\_\+data@{genera\+\_\+data}}
\index{genera\+\_\+data@{genera\+\_\+data}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{genera\+\_\+data()}{genera\_data()}}
{\footnotesize\ttfamily int genera\+\_\+data (\begin{DoxyParamCaption}\item[{\hyperlink{structdata}{data} $\ast$}]{data\+\_\+generata,  }\item[{\hyperlink{structdata}{data}}]{d1,  }\item[{\hyperlink{structdata}{data}}]{d2 }\end{DoxyParamCaption})}

Funzione \hyperlink{date_8c_afbef0466d48888c4cd6d47de5b5c5baf}{genera\+\_\+data(data$\ast$ data\+\_\+generata, data d1, data d2)}\+:

La funzione permette di generare una data all\textquotesingle{}interno in un intervallo fra due date. La data generata è memorizzata nella variabile puntata da data\+\_\+generata.

Per prima cosa la funzione si accerta che le date siano significative, non uguliali e che d1 sia antecedente a d2. Nei primi due vengono ritornati rispettivamente i valori D\+A\+T\+A\+\_\+\+N\+ON V\+A\+L\+I\+DA o D\+A\+T\+E\+\_\+\+U\+G\+U\+A\+LI. Nel terzo caso viene ritornato il valore ottenuto richiamando la funzione ma con le date scambiate.

Se la generazione va a buon fine, la funzione restituisce 1.

N.\+B. Prima di calcolare un valore della data, vengono generati gli estremi per la generazione. Questo serve ad evitare di generare date fuori dall\textquotesingle{}intervallo, a seguito di generazioni di valori di anno e mese uguali ai valori degli estremi della data da generare.

\begin{DoxyPrecond}{Precondizione}
Le date inserite devono essere significative e d1 deve precedere d2. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondizione}
Il valore di ritorno della funzione deve essere controllato per determinare l\textquotesingle{}esito della generazione. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_a9fb50a281390d039697ee8903edbe4d0}\label{date_8c_a9fb50a281390d039697ee8903edbe4d0}} 
\index{date.\+c@{date.\+c}!giorno\+\_\+giuliano@{giorno\+\_\+giuliano}}
\index{giorno\+\_\+giuliano@{giorno\+\_\+giuliano}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{giorno\+\_\+giuliano()}{giorno\_giuliano()}}
{\footnotesize\ttfamily double giorno\+\_\+giuliano (\begin{DoxyParamCaption}\item[{\hyperlink{structdata}{data}}]{d1 }\end{DoxyParamCaption})}

Funzione \hyperlink{date_8c_a9fb50a281390d039697ee8903edbe4d0}{giorno\+\_\+giuliano(data d1)}\+:

La funzione riceve in ingresso una variabile di tipo data e restituisce un valore di tipo double equivalente al giorno giuliano corrispondente alla data in ingresso.

L\textquotesingle{}algoritmo utilizzato è stato preso dalla seguente pagina Wiki\+Pedia\+: \href{https://it.wikipedia.org/wiki/Giorno_giuliano#Conversione_da_data_normale_a_data_giuliana}{\tt https\+://it.\+wikipedia.\+org/wiki/\+Giorno\+\_\+giuliano\#\+Conversione\+\_\+da\+\_\+data\+\_\+normale\+\_\+a\+\_\+data\+\_\+giuliana}

La funzione modf() della libreria math.\+h è utilizzata per estrarre la parte intera del primo che le viene passato.

\begin{DoxyPrecond}{Precondizione}
La data passata alla funzione deve avere un valore significativo.
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondizione}
Il valore restituito deve essere diverso da D\+A\+T\+A\+\_\+\+N\+O\+N\+\_\+\+V\+A\+L\+I\+DA 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_a2218060883057187054ac7065ab45330}\label{date_8c_a2218060883057187054ac7065ab45330}} 
\index{date.\+c@{date.\+c}!giorno\+\_\+odierno@{giorno\+\_\+odierno}}
\index{giorno\+\_\+odierno@{giorno\+\_\+odierno}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{giorno\+\_\+odierno()}{giorno\_odierno()}}
{\footnotesize\ttfamily int giorno\+\_\+odierno (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

La funzione \hyperlink{date_8c_a2218060883057187054ac7065ab45330}{giorno\+\_\+odierno()} restituisce un numero, corrispondente al giorno della settimana, nell\textquotesingle{}intervallo \mbox{[}0 -\/ 6\mbox{]}. L\textquotesingle{}estrazione del giorno odierno della settimana avviene ricavando la data odierna attraverso la funzione time(), convertendola in struct tm attraverso la funzione localtime() ed estrapolandolo leggendo il valore del membro tm\+\_\+wday.

\begin{DoxyPostcond}{Postcondizione}
Il valore ritornato va interpretato come 0 Lunedì, 6 Domenica. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_ae4de4b55842d1d5289b7ec4a103b74f2}\label{date_8c_ae4de4b55842d1d5289b7ec4a103b74f2}} 
\index{date.\+c@{date.\+c}!input\+\_\+data@{input\+\_\+data}}
\index{input\+\_\+data@{input\+\_\+data}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{input\+\_\+data()}{input\_data()}}
{\footnotesize\ttfamily \hyperlink{structdata}{data} input\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Funzione \hyperlink{date_8c_ae4de4b55842d1d5289b7ec4a103b74f2}{input\+\_\+data()}\+:

La funzione permette la richiesta all\textquotesingle{}utente di una data. Quest\textquotesingle{}ultima viene controllata e se non è significativa la richiesta di input viene ripetuta mostrando un messaggio di errore generico. Il primo input valido viene restituito dalla funzione.

\begin{DoxyPostcond}{Postcondizione}
La data restituita dalla funzione deve essere memorizzata in una variabile di tipo data. 
\end{DoxyPostcond}
\mbox{\Hypertarget{date_8c_a1687d0b372d4e9f523d480a48c772014}\label{date_8c_a1687d0b372d4e9f523d480a48c772014}} 
\index{date.\+c@{date.\+c}!shift\+\_\+data\+\_\+odierna@{shift\+\_\+data\+\_\+odierna}}
\index{shift\+\_\+data\+\_\+odierna@{shift\+\_\+data\+\_\+odierna}!date.\+c@{date.\+c}}
\subsubsection{\texorpdfstring{shift\+\_\+data\+\_\+odierna()}{shift\_data\_odierna()}}
{\footnotesize\ttfamily \hyperlink{structdata}{data} shift\+\_\+data\+\_\+odierna (\begin{DoxyParamCaption}\item[{short}]{valore\+\_\+shift }\end{DoxyParamCaption})}

Funzione shiftdata\+\_\+odierna\+:

La funzione genera una data partendo dalla data odierna e shiftandola del valore ricevuto in ingresso attraverso il parametro valore\+Shift.

In partiolare la data è generata trasformando prima la data odierna in giorno giuliano. Al valore ottenuto viene sommato algebricamente valore\+Shift, ottenendo il giorno giuliano della data da generare. Questa è convertita nel tipo di dato \char`\"{}data\char`\"{} attraverso la funzione giorno\+Gregoriano().

La data generata è restituita come valore di ritorno.

\begin{DoxyPostcond}{Postcondizione}
La data generata restituita deve essere memorizzata in una variabile di tipo data. 
\end{DoxyPostcond}
