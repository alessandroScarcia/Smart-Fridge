<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Fridge: Riferimenti per il file src/ricette.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Fridge
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generato da Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Cerca');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Cerca');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Funzioni</a>  </div>
  <div class="headertitle">
<div class="title">Riferimenti per il file ricette.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ricette_8h_source.html">ricette.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Grafo delle dipendenze di inclusione per ricette.c:</div>
<div class="dyncontent">
<div class="center"><img src="ricette_8c__incl.png" border="0" usemap="#src_2ricette_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funzioni</h2></td></tr>
<tr class="memitem:a91f5743050906045b86995dd852235a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a91f5743050906045b86995dd852235a7">esiste_ricetta</a> (char *nome_ricetta)</td></tr>
<tr class="separator:a91f5743050906045b86995dd852235a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed76ea15a6538a28c990009e2c0fbe1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#aaed76ea15a6538a28c990009e2c0fbe1">estrazione_ingredienti</a> (char nome_ricetta[<a class="el" href="ricette_8h.html#aacd065596f33b6510fa58f8ba4dea542">LUNG_NOME_RICETTA</a>], <a class="el" href="structingrediente.html">ingrediente</a> *ingredienti)</td></tr>
<tr class="separator:aaed76ea15a6538a28c990009e2c0fbe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d25b4740912391464d805a2f50dd3df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a6d25b4740912391464d805a2f50dd3df">conta_ricette_preparabili</a> ()</td></tr>
<tr class="separator:a6d25b4740912391464d805a2f50dd3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044e83e33d6f5b57fd1cd538c4acbe61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a044e83e33d6f5b57fd1cd538c4acbe61">prepara_ricetta</a> (char *nome_ricetta, int dosi_ricetta)</td></tr>
<tr class="separator:a044e83e33d6f5b57fd1cd538c4acbe61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2aaa5bef801b3faa0a40adeb8df605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#adf2aaa5bef801b3faa0a40adeb8df605">gestore_prepara_ricetta</a> ()</td></tr>
<tr class="separator:adf2aaa5bef801b3faa0a40adeb8df605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902276b9eb7a94494faa65a44d707afa"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a902276b9eb7a94494faa65a44d707afa">leggi_campo_ricetta</a> (char *linea, int num_campo, short flag_campo)</td></tr>
<tr class="separator:a902276b9eb7a94494faa65a44d707afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21462b0daaec0f04de000d2fcb2881c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#ad21462b0daaec0f04de000d2fcb2881c">input_nome_ricetta</a> ()</td></tr>
<tr class="separator:ad21462b0daaec0f04de000d2fcb2881c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9d0674ee0217f9bbae17c3e4eea17e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a9e9d0674ee0217f9bbae17c3e4eea17e">input_tempo_preparazione</a> ()</td></tr>
<tr class="separator:a9e9d0674ee0217f9bbae17c3e4eea17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492e7082d80a8b36ab857e0319924334"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a492e7082d80a8b36ab857e0319924334">input_complessita_ricetta</a> ()</td></tr>
<tr class="separator:a492e7082d80a8b36ab857e0319924334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8aac090f40dfd0d17f195d4e8fb275b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#af8aac090f40dfd0d17f195d4e8fb275b">input_preparazione_ricetta</a> ()</td></tr>
<tr class="separator:af8aac090f40dfd0d17f195d4e8fb275b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882b63989d7ad015ac4df03cc84c49f9"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a882b63989d7ad015ac4df03cc84c49f9">input_ingredienti_ricetta</a> ()</td></tr>
<tr class="separator:a882b63989d7ad015ac4df03cc84c49f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c21f5c5b20c4f40d3a6585c1c1d937"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a11c21f5c5b20c4f40d3a6585c1c1d937">input_dosi_ricetta</a> ()</td></tr>
<tr class="separator:a11c21f5c5b20c4f40d3a6585c1c1d937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed8f6a042fc0f9f5f14306d91bbc424"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a7ed8f6a042fc0f9f5f14306d91bbc424">input_id_ricetta</a> (int max_id)</td></tr>
<tr class="separator:a7ed8f6a042fc0f9f5f14306d91bbc424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a0967bab4f2d4810dd4652f90dab0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a54a0967bab4f2d4810dd4652f90dab0d">modifica_ricetta</a> ()</td></tr>
<tr class="separator:a54a0967bab4f2d4810dd4652f90dab0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77953d2180ea32dc11b099d493bf46ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a77953d2180ea32dc11b099d493bf46ff">elimina_ricetta</a> ()</td></tr>
<tr class="separator:a77953d2180ea32dc11b099d493bf46ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452437987d438940d6e7331f79340a60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a452437987d438940d6e7331f79340a60">visualizza_ricetta</a> (<a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> dati_ricette, int vista_ricetta)</td></tr>
<tr class="separator:a452437987d438940d6e7331f79340a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4149df822177a13133bab226be9711f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a4149df822177a13133bab226be9711f9">visualizza_database_ricette</a> (int vista)</td></tr>
<tr class="separator:a4149df822177a13133bab226be9711f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6cf451a1370431785a6f966e1ec7e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a8e6cf451a1370431785a6f966e1ec7e0">lettura_database_ricette</a> (<a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> *ricette_database)</td></tr>
<tr class="separator:a8e6cf451a1370431785a6f966e1ec7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b53ba22d2a49e5ef3f0a1ddb8e1fb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a34b53ba22d2a49e5ef3f0a1ddb8e1fb2">conta_ricette_database</a> ()</td></tr>
<tr class="separator:a34b53ba22d2a49e5ef3f0a1ddb8e1fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac421bea1de8d985331add3988824d1ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#ac421bea1de8d985331add3988824d1ef">inizializza_ricette_preparabili</a> (int num_ricette, char *ricette_preparabili[num_ricette])</td></tr>
<tr class="separator:ac421bea1de8d985331add3988824d1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33e65064c109879b58f97fcfb1bfe6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#aa33e65064c109879b58f97fcfb1bfe6a">ordina_ricette_kcal</a> (<a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> *ricette_database, int num_ricette)</td></tr>
<tr class="separator:aa33e65064c109879b58f97fcfb1bfe6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e95fa1024e80d5d83beb3d4c311b04c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a1e95fa1024e80d5d83beb3d4c311b04c">ricette_alimenti_in_scadenza</a> ()</td></tr>
<tr class="separator:a1e95fa1024e80d5d83beb3d4c311b04c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816a2d62468ea9df6862d6dffa718f2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a816a2d62468ea9df6862d6dffa718f2c">inserimento_manuale_ingredienti</a> (char nome_ingredienti[<a class="el" href="ricette_8h.html#aefa375406bc4dbb4c5e19b52ea58a29a">MAX_INGRD_SUGG</a>][<a class="el" href="ricette_8h.html#a4cfbc12da1c68bf747428d14ce5b1a24">LUNG_INGREDIENTE</a>])</td></tr>
<tr class="separator:a816a2d62468ea9df6862d6dffa718f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12044ca527f78ceb9a1411ee5195ce8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#af12044ca527f78ceb9a1411ee5195ce8">suggerimento_ricetta_manuale</a> (int num_alimenti_sugg, char nome_ingredienti[<a class="el" href="ricette_8h.html#aefa375406bc4dbb4c5e19b52ea58a29a">MAX_INGRD_SUGG</a>][<a class="el" href="ricette_8h.html#a4cfbc12da1c68bf747428d14ce5b1a24">LUNG_INGREDIENTE</a>])</td></tr>
<tr class="separator:af12044ca527f78ceb9a1411ee5195ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2568bec3431612ac1f207b303f6be2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#add2568bec3431612ac1f207b303f6be2">suggerimento_ricetta_automatico</a> ()</td></tr>
<tr class="separator:add2568bec3431612ac1f207b303f6be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d271ff37e418aca05689f552b9d164"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#ab4d271ff37e418aca05689f552b9d164">aggiorna_database_ricette</a> (<a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> nuova_ricetta)</td></tr>
<tr class="separator:ab4d271ff37e418aca05689f552b9d164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39adfc2461f28e268847f9af8313451"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#ad39adfc2461f28e268847f9af8313451">lettura_nuove_ricette</a> ()</td></tr>
<tr class="separator:ad39adfc2461f28e268847f9af8313451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a6b70af1dc01b5538937b21d7484e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ricette_8c.html#a29a6b70af1dc01b5538937b21d7484e0">estrai_kcal_ricetta</a> (char *nome_ricetta, int *kcal, int *dosi)</td></tr>
<tr class="separator:a29a6b70af1dc01b5538937b21d7484e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentazione delle funzioni</h2>
<a id="ab4d271ff37e418aca05689f552b9d164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d271ff37e418aca05689f552b9d164">&#9670;&nbsp;</a></span>aggiorna_database_ricette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aggiorna_database_ricette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a>&#160;</td>
          <td class="paramname"><em>nuova_ricetta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione riceve in input la struct contenente i dati inerenti ad una singola ricetta e procede con il controllo sull'esistenza e apertura del file databse_ricette. Qualora non sia possibile aprire il file in lettura viene creato per scriverci sopra la prima volta. La prima operazione da compiere qualora il file esista e' controllare se la ricetta che vogliamo salvare non sia giá presente nel database. Per far ció leggiamo sequenzialmente il file e se troviamo una ricetta con lo stesso nome aggiorniamo il flag di presenza. Nel caso in cui la ricetta abbia superato il controllo e pertanto non sia presente nel database, essa viene salvata alla prima riga vuota presente nel file(ricordiamo che il progetto in generale si basa sul recupero delle righe all'interno di un file). </p><dl class="section pre"><dt>Precondizione</dt><dd>Deve essere passata una struct contenente valori significativi </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Devono essere stati scritti su file i dati relativi alla ricetta </dd></dl>

</div>
</div>
<a id="a34b53ba22d2a49e5ef3f0a1ddb8e1fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b53ba22d2a49e5ef3f0a1ddb8e1fb2">&#9670;&nbsp;</a></span>conta_ricette_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conta_ricette_database </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione apre il file del database delle ricette in modalitá lettura, estrae tutte le righe che possiede e conta solo le righe effettivamente piene ignorando quelle inizializzate. Il risultato viene poi restiuito </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere passato un numero di righe con un valore significativo(&gt;=0) </dd></dl>

</div>
</div>
<a id="a6d25b4740912391464d805a2f50dd3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d25b4740912391464d805a2f50dd3df">&#9670;&nbsp;</a></span>conta_ricette_preparabili()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conta_ricette_preparabili </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di contare le ricette salvate nel database che possono risultare preparabili.</p>
<p>La funzione serve principalmente per creare una struct(utilizzata esternamente)su misura che conterrá le ricette che si possono preparare in base agli ingredienti a disposizione. Qualora siano presenti ricette all'interno del database viene effettuato un confronto tra gli ingredienti delle ricette e gli alimenti presenti nel frigo. Nel momento in cui gli ingredienti di una ricetta risultano presenti e disponibili all'interno del frigo, quella ricetta risulta candidata per essere preparata e pertanto viene incrementato il contatore delle ricette preparabili</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Nessuna particolare pre condizione </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Nessuna particolare post condizione </dd></dl>

</div>
</div>
<a id="a77953d2180ea32dc11b099d493bf46ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77953d2180ea32dc11b099d493bf46ff">&#9670;&nbsp;</a></span>elimina_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int elimina_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione elimina_ricetta apre il database delle ricette, ne mostra il contenuto, e chiede quale delle ricette mostrate occorre cancellare. L'individuazione della ricetta avviene tramite l'inserimento dell'ID. In questa maniera si risale alla riga dove e' memorizzata la ricetta inizializzandone il contenuto e salvando poi le modifiche. Al termine la funzione restituisce 1. </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato effettuata e salvata l'eliminazione su file </dd></dl>

</div>
</div>
<a id="a91f5743050906045b86995dd852235a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f5743050906045b86995dd852235a7">&#9670;&nbsp;</a></span>esiste_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int esiste_ricetta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nome_ricetta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di verificare l'esistenza di una ricetta nel database</p>
<p>Il funzionamento é basato, in primo luogo sulla ricezione come parametro di ingresso del nome della ricetta su cui effettuare la ricerca. Una volta assicurata la corretta apertura del file del database si puó effettuare la ricerca di tale ricetta ed eventualmente aggiornare il flag di presenza che verrá poi restituito dalla funzione.</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Il nome del file della ricetta non deve essere vuoto </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Nessuna particolare post condizione </dd></dl>

</div>
</div>
<a id="a29a6b70af1dc01b5538937b21d7484e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a6b70af1dc01b5538937b21d7484e0">&#9670;&nbsp;</a></span>estrai_kcal_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int estrai_kcal_ricetta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nome_ricetta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>kcal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dosi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di memorizzare le kcal e le dosi di una ricetta conosciuta.</p>
<p>All'interno della funzione é stato previsto di scorrere il database delle ricette per trovare la ricetta da cui estrarre le informazioni richieste</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Il nome della ricetta deve possedere almeno un carattere </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere state memorizzate correttamente le kcal e le dosi </dd></dl>

</div>
</div>
<a id="aaed76ea15a6538a28c990009e2c0fbe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed76ea15a6538a28c990009e2c0fbe1">&#9670;&nbsp;</a></span>estrazione_ingredienti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int estrazione_ingredienti </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>nome_ricetta</em>[LUNG_NOME_RICETTA], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structingrediente.html">ingrediente</a> *&#160;</td>
          <td class="paramname"><em>ingredienti</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di estrarre gli ingredienti di una determinata ricetta.</p>
<p>Una volta passato il nome della ricetta e l'array di struct di tipo ingrediente che deve essere popolato viene aperto in lettura il file del database alimenti e viene fatto un check sul nome passato. Qualora venga trovata la ricetta passata si memorizzano gli ingredienti di tale ricetta nella struct e si restituisce il numero di tali ingredienti. In caso non venga trovata la ricetta viene restituito -1</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Il nome del file della ricetta non deve essere vuoto e l'array di struct deve avere dimensione maggiore degli ingredienti della ricetta </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita, in caso venga trovata la ricetta, il numero corretto di ingredienti estratti </dd></dl>

</div>
</div>
<a id="adf2aaa5bef801b3faa0a40adeb8df605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2aaa5bef801b3faa0a40adeb8df605">&#9670;&nbsp;</a></span>gestore_prepara_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gestore_prepara_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa della memorizzazione di una ricetta tra le assunzioni di uno specifico utente oppure della preparazione anonima di una ricetta</p>
<p>Per gestione della preparazione di una ricetta si intende la possibilitá di permettere all'utente di memorizzare una ricetta che vuole preparare tra le assunzioni giornaliere. In questa maniera si permette di tenere traccia delle proprie calorie anche attraverso il consumo di un alimento piú complesso che in questo caso puó risultare come ricetta. Ovviamente per poter memorizzare tale assunzione(se possbile prepararla in base alla disponibilitá degli ingredienti) occorre effettuare l'operazione di autenticazione e richiedere le dosi da riservare per quella ricetta. Qualora sia possibile o meno preparare una ricetta viene richiesto se si vuole rieffettuare l'operazione di preparazione.</p>
<p>Nell'ipotesi in cui l'utente non voglia memorizzare la ricetta tra le proprie assunzioni puó effettuare la preparazione della ricetta in maniera del tutto anonima</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Nessuna particolare pre condizione </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Qualora sia possibile preparare la ricetta occorre memorizzare tale assunzione richiamando l'opportuna funzione </dd></dl>

</div>
</div>
<a id="ac421bea1de8d985331add3988824d1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac421bea1de8d985331add3988824d1ef">&#9670;&nbsp;</a></span>inizializza_ricette_preparabili()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inizializza_ricette_preparabili </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_ricette</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ricette_preparabili</em>[num_ricette]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che ha in ingresso un array di puntatori di tipo stringa che rappresentano i nomi delle ricette preparabili e il numero di ricette presenti nel database. Questo perche' nella migliore delle ipotesi tutte le ricette del database possono essere preparabili. La funzione inizializza tutto l'array di puntatori a NULL </p><dl class="section pre"><dt>Precondizione</dt><dd>Il numero di ricette deve essere un valore maggiore di 0 </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stata effettuata correttamente l'inizializzazione </dd></dl>

</div>
</div>
<a id="a492e7082d80a8b36ab857e0319924334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492e7082d80a8b36ab857e0319924334">&#9670;&nbsp;</a></span>input_complessita_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* input_complessita_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che dopo aver allocato una stringa di una determinata lunghezza, si occupa di ricevere in input la complessitá della ricetta </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere </dd></dl>

</div>
</div>
<a id="a11c21f5c5b20c4f40d3a6585c1c1d937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c21f5c5b20c4f40d3a6585c1c1d937">&#9670;&nbsp;</a></span>input_dosi_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int input_dosi_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di ricevere in input il numero di porzioni della ricetta</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere </dd></dl>

</div>
</div>
<a id="a7ed8f6a042fc0f9f5f14306d91bbc424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed8f6a042fc0f9f5f14306d91bbc424">&#9670;&nbsp;</a></span>input_id_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int input_id_ricetta </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che si occupa di ricevere in input il l'id della ricetta</p>
<dl class="section pre"><dt>Precondizione</dt><dd>L'id massimo deve essere positivo </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituito un id &gt;=0 </dd></dl>

</div>
</div>
<a id="a882b63989d7ad015ac4df03cc84c49f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882b63989d7ad015ac4df03cc84c49f9">&#9670;&nbsp;</a></span>input_ingredienti_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* input_ingredienti_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che dopo aver allocato una stringa di una determinata lunghezza, si occupa di ricevere in input l'ingrediente x della ricetta. Ovviamente in questo caso sono ammessi gli spazi in quanto sappiamo che il formato dell'ingrediente e' : quantitá unitá_di_misura nome_ingrediente </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere </dd></dl>

</div>
</div>
<a id="ad21462b0daaec0f04de000d2fcb2881c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21462b0daaec0f04de000d2fcb2881c">&#9670;&nbsp;</a></span>input_nome_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* input_nome_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione <a class="el" href="ricette_8c.html#ad21462b0daaec0f04de000d2fcb2881c">input_nome_ricetta()</a>:</p>
<p>Permette di richiedere l'input del nome di una ricetta, consentendo gli spazi ma limitando la lunghezza della stringa al massimo stabilito da LUNG_NOME_RICETTA. Se il limite viene superato, l'input viene ripetuto.</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere. </dd></dl>

</div>
</div>
<a id="af8aac090f40dfd0d17f195d4e8fb275b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8aac090f40dfd0d17f195d4e8fb275b">&#9670;&nbsp;</a></span>input_preparazione_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* input_preparazione_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che dopo aver allocato una stringa di una determinata lunghezza, si occupa di ricevere in input la preparazione della ricetta</p>
<p>La preparazione essendo un'unica stringa deve poter permettere all'utente (in fase di visualizzazione) di mostrare le varie fasi della preparazione in maniera piú ordinata. A tale scopo é stato previsto che l'utente inserisca le varie fasi singolarmente per poi affiancare una volta terminato l'inserimento il carattere delimitatore per poi effettuare lo split tra le varie fasi.</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere </dd></dl>

</div>
</div>
<a id="a9e9d0674ee0217f9bbae17c3e4eea17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9d0674ee0217f9bbae17c3e4eea17e">&#9670;&nbsp;</a></span>input_tempo_preparazione()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* input_tempo_preparazione </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione <a class="el" href="ricette_8c.html#a9e9d0674ee0217f9bbae17c3e4eea17e">input_tempo_preparazione()</a></p>
<p>Permette di richiedere l'input del tempo di preparazione di una ricetta, consentendo gli spazi ma limitando la lunghezza della stringa al massimo stabilito da LUNG_TEMPO_PREPARAZIONE. Se il limite viene superato, l'input viene ripetuto. </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere restituita una stringa con almeno un carattere </dd></dl>

</div>
</div>
<a id="a816a2d62468ea9df6862d6dffa718f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816a2d62468ea9df6862d6dffa718f2c">&#9670;&nbsp;</a></span>inserimento_manuale_ingredienti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inserimento_manuale_ingredienti </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>nome_ingredienti</em>[MAX_INGRD_SUGG][LUNG_INGREDIENTE]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione riceve in ingresso una matrice vuota che rappresenta i nomi degli ingredienti su cui svolgere la ricerca. Dopo aver pulito il buffer di input si passa all'inserimento degli alimenti chiave da parte dell'utente. Qualora sia stata inserita la sequenza pulito di escape si termina con l'inserimento altrimenti si continua fino al numero massimo di ingredienti consentito. </p><dl class="section pre"><dt>Precondizione</dt><dd>Deve essere passata una matrice vuota </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato inserito almeno un alimento </dd></dl>

</div>
</div>
<a id="a902276b9eb7a94494faa65a44d707afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902276b9eb7a94494faa65a44d707afa">&#9670;&nbsp;</a></span>leggi_campo_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* leggi_campo_ricetta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>linea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_campo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>flag_campo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione seguente riceve il puntatore alla linea da cui voglio estrarre un valore e il numero del campo che voglio analizzare e un flag che indica che tipologia di campo. Il principale compito della funzione e' quello di effettuare una "tokenizzazione" della stringa che gli passiamo. Nel caso di una stringa avente i campi formati da valori singoli nella forma VALORE-DELIMITATORE-VALORE la prima parte fino a alla dichiarazione di tok viene ignorata. In questo preciso caso il token(ossia il puntatore tok) permette l'estrazione del valore successivo al delimitatore su cui e' posizionato. In questo senso tok scandisce i vari delimitatori per trovare il numero del campo nel quale e' presente il valore da estrarre. In caso il numero del campo e quindi il valore da estrarre sia valido e soprattutto esista viene restituito sottoforma di puntatore di stringa. In caso contrario esso viene restituito come NULL</p>
<p>Ma adesso soffermiamoci nel caso in cui un campo sia a sua volta formato da campi e di cui non si sappia il numero come e' il caso della preparazione perche' noi non conosciamo il numero di fasi inserite. Lo stratagemma e' quello di passare come num di campo l'indice della fase (ATTENZIONE: qui non si ragiona con indici di array ma per indice si intende il numero del campo che parte da 1). A questo punto lo stratagemma e' quello di contare i caratteri delimitatori(nel nostro caso i - per le fasi), in quanto sappiamo che se la stringa e' nella forma VALORE-DELIMITATORE-VALORE... allora necessariamente il numero di campi sará uguale al numero di delimitatori+1. La prima parte pertanto fa un check da indice del campo e caratteri delimitatori. Qualora il campo passato sia maggiore del numero di - allora abbiamo finito con l'estrazione e viene restituito NULL.</p>
<dl class="section pre"><dt>Precondizione</dt><dd>che la stringa su cui effettuare lo split sia piena, che ci sia un numero di campo &gt;0 e che il flag un valore uguale a 0 o 1 </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Il valore restituito deve essere una stringa oppure un puntatore null </dd></dl>

</div>
</div>
<a id="a8e6cf451a1370431785a6f966e1ec7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6cf451a1370431785a6f966e1ec7e0">&#9670;&nbsp;</a></span>lettura_database_ricette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lettura_database_ricette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> *&#160;</td>
          <td class="paramname"><em>ricette_database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione riceve in ingresso un array di struct passato per riferimento e lo popola prendendo le varie informazioni delle ricette, memorizzate all'interno del database. Ovviamente vengono memorizzate solo le righe che non sono inizializzate ossia quelle che non vuote. Per far ció si confronta il nome. Qualora il nome della ricetta sia una stringa vuota vuol dire che siamo in presenza di una riga vuota e pertanto essa va ignorata. </p><dl class="section pre"><dt>Precondizione</dt><dd>L'array di struct che passiamo deve essere vuoto </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato caricato correttamente l'array di struct inizialmente passato </dd></dl>

</div>
</div>
<a id="ad39adfc2461f28e268847f9af8313451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad39adfc2461f28e268847f9af8313451">&#9670;&nbsp;</a></span>lettura_nuove_ricette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lettura_nuove_ricette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione lettura_nuove_ricette si occupa di leggere un file in formato csv con accesso sequenziale e di memorizzare nei vari campi le informazioni riguardanti una nuova ricetta. Viene pertanto scandita con la fgets ogni linea presente nel file,estratta e poi splittata tramite la sscanf. Qualora fossero rinvenuti errori come l'assenza di un campo viene chiesto se si vuole modificare la ricetta oppure no. Qualora l'estrazione da file abbia avuto successo viene effettuato lo split degli ingredienti per memorizzare opportunamente i valori all'interno dell'array di struct. Infine vengono calcolate le calorie prodotte dalla ricetta e viene richiamata la funzione che si occupa della memorizzazione dei dati raccolti. L'operazione viene ripetuta fino a quando e' possibile estrarre una riga dal file ossia fino a quando e' presente una ricetta nel file </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna particolare pre-condizione </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato effettuato con successo almeno un'estrazione di una ricetta o in caso contrario deve essere mostrato un messaggio di errore </dd></dl>

</div>
</div>
<a id="a54a0967bab4f2d4810dd4652f90dab0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a0967bab4f2d4810dd4652f90dab0d">&#9670;&nbsp;</a></span>modifica_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modifica_ricetta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione modifica ricette si occupa di modificare un determinato campo di una determinata ricetta. In una prima fase verrá aperto il file che rappresenta il dtabase delle ricette. In seguito verrá mostrato all'utente una vista minimizzata delle varie ricette salvate e verrá chiesto l'id della ricetta a cui apportare le modifiche. Una volta inserito viene effettuata una ricerca sequenziale, evitando le tuple vuote presenti nel file. Una volta trovato la ricetta nel file del database verrá chiesto di inserire il numero del campo da modificare. Tramite uno switch viene individuato il campo e viene richiamata la corrispettiva funzione di input. Per quanto riguarda gli ingredienti una volta ricevuto in ingresso la stringa da parte dell'utente viene effettuato uno split dei valori per popolare opportunatamente la struct di tipo ingrediente. Al termine delle modifiche viene salvato il tutto su file. </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato effettuata e salvata la modifica su file </dd></dl>

</div>
</div>
<a id="aa33e65064c109879b58f97fcfb1bfe6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa33e65064c109879b58f97fcfb1bfe6a">&#9670;&nbsp;</a></span>ordina_ricette_kcal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ordina_ricette_kcal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a> *&#160;</td>
          <td class="paramname"><em>ricette_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_ricette</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione seguente si occupa,avendo in ingresso il num di ricette complessive e l'array di struct che costituisce la lista di tutte le ricette, di ordinare le ricette in base alle kcal prodotte, tramite l'algoritmo di ordinamento shell sort. A differenza del classico shell sort che sfrutta un array formato dai vari gap ossia dalle varie distanze con cui confrontare e scambiare gli elementi, qui si e' preferito sfruttare inizialmente il num di ricette diviso 2 come gap di partenza e successivamente dividere il gap fino a quando non risultasse minore di 0. Ovviamente lo scambio viene fatto in base al campo delle kcal. Al termine viene stampato l'ordinamento effettuato </p><dl class="section pre"><dt>Precondizione</dt><dd>l'array di struct con le ricette deve possedere almeno 1 ricetta e il numero di ricette deve essere un valore significativo(&gt;0) </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato effettuato correttamente l'ordinamento </dd></dl>

</div>
</div>
<a id="a044e83e33d6f5b57fd1cd538c4acbe61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044e83e33d6f5b57fd1cd538c4acbe61">&#9670;&nbsp;</a></span>prepara_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int prepara_ricetta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nome_ricetta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dosi_ricetta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Funzione che effettua la riduzione automatica degli alimenti del frigo che risultano essere ingredienti di una ricetta.</p>
<p>Tale funzione occupandosi della riduzione automatica degli alimenti in base al nome della ricetta che passiamo come parametro, si avvale di un'altra funzione(presente in alimenti ) chiamata riduci alimento, a cui viene passato il nome dell'ingrediente e la relativa quantitá da ridurre per la preparazione. Ovviamente la preparazione della ricetta viene fatta tenendo conto anche delle dosi che l'utente ha inserito per la preparazione (anche esso passato come parametro di ingresso alla funzione). Qualora sia possibile estrarre e di conseguenza effettuare la riduzione di tutti gli ingredienti la ricetta puó essere memorizzata tra i consumi globali.</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Il nome della ricetta (sebbene sia presente il controllo) non deve essere una stringa vuota e le dosi devono avere un valore significativo </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Qualora sia possibile preparare la ricette la riduzione degli alimenti deve essere stata effettuata con successo. </dd></dl>

</div>
</div>
<a id="a1e95fa1024e80d5d83beb3d4c311b04c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e95fa1024e80d5d83beb3d4c311b04c">&#9670;&nbsp;</a></span>ricette_alimenti_in_scadenza()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ricette_alimenti_in_scadenza </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>In questa funzione viene passata la lista degli alimenti attualmente nel frigo con il relativo numero e una matrice che rappresenta il nome degli alimenti che stanno per scadere. Una volta chiamata la funzione che si occupa del riordinamento degli alimenti in base alla scadenza vengono memorizzati i primi 2 alimenti che stanno per scadere all'interno di una matrice di tipo char. In seguito viene fatto un richiamo alla funzione che suggerisce le ricette in base agli alimenti che gli si passano. In questa maniera avremo la lista delle ricette che possiamo preparare con gli alimenti in scadenza </p><dl class="section pre"><dt>Precondizione</dt><dd>La listadegli alimenti deve possedere almeno un alimento e il numero di alimenti deve essere un valore significativo </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere terminata con successo la ricerca </dd></dl>

</div>
</div>
<a id="add2568bec3431612ac1f207b303f6be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2568bec3431612ac1f207b303f6be2">&#9670;&nbsp;</a></span>suggerimento_ricetta_automatico()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int suggerimento_ricetta_automatico </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione suggerimento_ricetta_automatica avendo in ingresso gli alimenti del frigo e il numero di tali alimenti fornisce il nome delle ricette che si possono preparare con tali ingredienti. La funzione e' composta da un ciclo piú esterno che scandisce le vare ricette presenti ne database, e 2 cicli piú interni che si occupano di scandire di volta gli alimenti presenti nel frigo con quelli che possiede ogni ricetta. Nel caso in cui l'ingrediente di una ricetta sia presente bisogna controllare se la quatitá dell'alimento a disposizione sia sufficiente. Il controllo viene effettuato pertanto anche qualora vi sia piú di una occorrenza di uno stesso alimento. A tal proposito sappiamo che stessi alimenti con diversa scadenza sono memorizzati su record diversi. In questo caso devo sommare le quantitá degli alimenti con stesso nome ESEMPIO: ho 2 uova che scadono x/xx/xxxx e 2 uova che scadono yy/yy/yyyy. Voglio preparare la torta di mele che ne richiede 4. Posso prepararla perche' ho 4 uova a disposizione complessivamente. Al termine del controllo sulle ricette vengono stampate a schermo quelle preparabili passato qualora ce ne fossero o un messaggio di avvertenza che segnala che non esistono ricette con la combinazione di ingredienti fornita in input </p><dl class="section pre"><dt>Precondizione</dt><dd>Deve essere passato almeno un alimento e quindi il numero di alimenti deve essere anch'esso un valore significativo </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato mostrato un messaggio in base all'esito della ricerca </dd></dl>

</div>
</div>
<a id="af12044ca527f78ceb9a1411ee5195ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af12044ca527f78ceb9a1411ee5195ce8">&#9670;&nbsp;</a></span>suggerimento_ricetta_manuale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int suggerimento_ricetta_manuale </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_alimenti_sugg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>nome_ingredienti</em>[MAX_INGRD_SUGG][LUNG_INGREDIENTE]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione suggerimento_ricetta_manuale avendo in ingresso il numero(num_alimenti_sugg) e i nomi degli ingredienti(nome_ingredienti) su cui effettuare la ricerca fornisce il nome delle ricette che si possono preparare con tali ingredienti. La funzione e' composta da un ciclo su piú esterno che scandisce le vare ricette presenti ne database, e 2 cicli piú interni che si occupano di scandire di volta gli ingredienti passati come parametro alla funzione con quelli che possiede ogni ricetta. Nel caso in cui una ricetta abbia gli ingredienti che abbiamo passato essa va memorizzata come ricetta preparabile. Al termine del controllo sulle ricette vengono stampate a schermo quelle preparabili passato qualora ce ne fossero o un messaggio di avvertenza che segnala che non esistono ricette con la combinazione di ingredienti fornita in input</p>
<dl class="section pre"><dt>Precondizione</dt><dd>Deve essere passato almeno un alimento e quindi il numero di alimenti deve essere anch'esso un valore significativo </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato mostrato un messaggio in base all'esito della ricerca </dd></dl>

</div>
</div>
<a id="a4149df822177a13133bab226be9711f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4149df822177a13133bab226be9711f9">&#9670;&nbsp;</a></span>visualizza_database_ricette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int visualizza_database_ricette </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vista</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Visualizza_database_ricette mostra il contenuto del database delle ricette in base alla modalitá con cui scegliamo di mostrare i dati. Il parametro in ingresso nome_ricetta, infatti, qualora fosse una stringa vuota mostrerá l'intero contenuto del database. Nel caso in cui venga passato un nome di una ricetta verranno in quel caso estratte dal database le informazioni riguardo quella ricetta qualora sia presete nel database. Inoltre il parametro in ingresso id_ricetta permette di mostrare a schermo un id che magari e' calcolato esternamente alla funzione(si faccia riferimento alla funzione suggerimento_ricetta_automatico o suggerimento_ricetta_manuale per capire in quale contesto la si utilizza). Qualora invece non sia nessun interesse o nel caso in cui debba essere mostrato l'intero database verrá passato come id personalizzato 0. </p><dl class="section pre"><dt>Precondizione</dt><dd>Deve essere passata una stringa o vuota o piena, l'id deve essere un numero &gt;=1 e la vista deve essere un valore pari a 0 o 1 </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stata effettuata la visualizzazione opportuna </dd></dl>

</div>
</div>
<a id="a452437987d438940d6e7331f79340a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452437987d438940d6e7331f79340a60">&#9670;&nbsp;</a></span>visualizza_ricetta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int visualizza_ricetta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ricette_8h.html#ae194550536a3ed1a726f2b8668663eaf">ricetta</a>&#160;</td>
          <td class="paramname"><em>dati_ricette</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vista_ricetta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>La funzione visualizza_ricette riceve come parametro di ingresso la struct dove sono memorizzate le info della ricetta da mostrare. La stampa dei campi composti da informazioni singole come il nome e il tempo di preparazione vengono mostrate tramite un'unica printf Nel caso degli ingredienti viene stampato di volta in volta il contenuto della matrice tramite un ciclo. Per quanto riguarda la preparazione (considerato che dal punto di vista progettuale si considerano le fasi come un unico testo) nella fase di visualizzazione le singole fasi, che sono separate nel testo con il carattere delimitatore (-), vengono opportunatamente divise tramite la funzione leggi_campo_ricetta. Una volta ricavata ogni fase essa viene stampata con il suo id di riferimento. </p><dl class="section pre"><dt>Precondizione</dt><dd>Nessuna pre condizione particolare </dd></dl>
<dl class="section post"><dt>Postcondizione</dt><dd>Deve essere stato mostrato il contenuto della ricetta </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generato da &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
